if (self.CavalryLogger) { CavalryLogger.start_js(["9\/Ynr"]); }

/**
 * License: https://www.facebook.com/legal/license/HAC-_9WTKIm/
 */
__d("html2canvas-v0.5",[],(function(a,b,c,d,e,f){__p&&__p();!function(b){if("object"==typeof f&&"undefined"!=typeof e)e.exports=b();else if("function"==typeof define&&define.amd)define([],b);else{var c;"undefined"!=typeof window?c=window:"undefined"!=typeof a?c=a:"undefined"!=typeof self&&(c=self),c.html2canvas=b()}}(function(){__p&&__p();var c;return function a(c,d,e){__p&&__p();function f(h,i){__p&&__p();if(!d[h]){if(!c[h]){var j=typeof b=="function"&&b;if(!i&&j)return j(h,!0);if(g)return g(h,!0);i=new Error("Cannot find module '"+h+"'");throw i.code="MODULE_NOT_FOUND",i}j=d[h]={exports:{}};c[h][0].call(j.exports,function(a){var b=c[h][1][a];return f(b?b:a)},j,j.exports,a,c,d,e)}return d[h].exports}var g=typeof b=="function"&&b;for(var h=0;h<e.length;h++)f(e[h]);return f}({1:[function(g,b,d){__p&&__p();(function(e){__p&&__p();(function(a){__p&&__p();var f=typeof d=="object"&&d,g=typeof b=="object"&&b&&b.exports==f&&b,h=typeof e=="object"&&e;(h.global===h||h.window===h)&&(a=h);var i,j=2147483647,k=36,l=1,m=26,n=38,o=700,p=72,q=128,r="-",s=/^xn--/,t=/[^ -~]/,u=/\x2E|\u3002|\uFF0E|\uFF61/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=k-l,x=Math.floor,y=String.fromCharCode;function z(a){throw RangeError(v[a])}function A(a,b){var c=a.length;while(c--)a[c]=b(a[c]);return a}function B(a,b){return A(a.split(u),b).join(".")}function C(a){var b=[],c=0,d=a.length,e,f;while(c<d)e=a.charCodeAt(c++),e>=55296&&e<=56319&&c<d?(f=a.charCodeAt(c++),(f&64512)==56320?b.push(((e&1023)<<10)+(f&1023)+65536):(b.push(e),c--)):b.push(e);return b}function D(a){return A(a,function(a){var b="";a>65535&&(a-=65536,b+=y(a>>>10&1023|55296),a=56320|a&1023);b+=y(a);return b}).join("")}function E(a){if(a-48<10)return a-22;if(a-65<26)return a-65;return a-97<26?a-97:k}function F(a,b){return a+22+75*(a<26)-((b!=0)<<5)}function G(a,b,c){var d=0;a=c?x(a/o):a>>1;a+=x(a/b);for(;a>w*m>>1;d+=k)a=x(a/w);return x(d+(w+1)*a/(a+n))}function H(a){__p&&__p();var b=[],c=a.length,d=0,e=q,f=p,g,h,i,n,o,s;g=a.lastIndexOf(r);g<0&&(g=0);for(h=0;h<g;++h)a.charCodeAt(h)>=128&&z("not-basic"),b.push(a.charCodeAt(h));for(h=g>0?g+1:0;h<c;){for(g=d,i=1,n=k;;n+=k){h>=c&&z("invalid-input");o=E(a.charCodeAt(h++));(o>=k||o>x((j-d)/i))&&z("overflow");d+=o*i;s=n<=f?l:n>=f+m?m:n-f;if(o<s)break;o=k-s;i>x(j/o)&&z("overflow");i*=o}s=b.length+1;f=G(d-g,s,g==0);x(d/s)>j-e&&z("overflow");e+=x(d/s);d%=s;b.splice(d++,0,e)}return D(b)}function I(a){__p&&__p();var b,c,d,e,f,g,h,i,n,o,s=[],t,u,v,w;a=C(a);t=a.length;b=q;c=0;f=p;for(g=0;g<t;++g)o=a[g],o<128&&s.push(y(o));d=e=s.length;e&&s.push(r);while(d<t){for(h=j,g=0;g<t;++g)o=a[g],o>=b&&o<h&&(h=o);u=d+1;h-b>x((j-c)/u)&&z("overflow");c+=(h-b)*u;b=h;for(g=0;g<t;++g){o=a[g];o<b&&++c>j&&z("overflow");if(o==b){for(h=c,i=k;;i+=k){n=i<=f?l:i>=f+m?m:i-f;if(h<n)break;w=h-n;v=k-n;s.push(y(F(n+w%v,0)));h=x(w/v)}s.push(y(F(h,0)));f=G(c,u,d==e);c=0;++d}}++c;++b}return s.join("")}function J(a){return B(a,function(a){return s.test(a)?H(a.slice(4).toLowerCase()):a})}function K(a){return B(a,function(a){return t.test(a)?"xn--"+I(a):a})}i={version:"1.2.4",ucs2:{decode:C,encode:D},decode:H,encode:I,toASCII:K,toUnicode:J};if(typeof c=="function"&&typeof c.amd=="object"&&c.amd)c("punycode",function(){return i});else if(f&&!f.nodeType)if(g)g.exports=i;else for(h in i)i.hasOwnProperty(h)&&(f[h]=i[h]);else a.punycode=i})(this)}).call(this,typeof a!=="undefined"?a:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(c,a,b){__p&&__p();var d=c("./log");function g(a,b,c){a.defaultView&&(b!==a.defaultView.pageXOffset||c!==a.defaultView.pageYOffset)&&a.defaultView.scrollTo(b,c)}function h(a,b){try{b&&(b.width=a.width,b.height=a.height,b.getContext("2d").putImageData(a.getContext("2d").getImageData(0,0,a.width,a.height),0,0))}catch(b){d("Unable to copy canvas content from",a,b)}}function i(a,b){var c=a.nodeType===3?document.createTextNode(a.nodeValue):a.cloneNode(!1),d=a.firstChild;while(d)(b===!0||d.nodeType!==1||d.nodeName!=="SCRIPT")&&c.appendChild(i(d,b)),d=d.nextSibling;a.nodeType===1&&(c._scrollTop=a.scrollTop,c._scrollLeft=a.scrollLeft,a.nodeName==="CANVAS"?h(a,c):(a.nodeName==="TEXTAREA"||a.nodeName==="SELECT")&&(c.value=a.value));return c}function j(a){if(a.nodeType===1){a.scrollTop=a._scrollTop;a.scrollLeft=a._scrollLeft;a=a.firstChild;while(a)j(a),a=a.nextSibling}}a.exports=function(a,b,c,d,e,f,h){__p&&__p();var k=i(a.documentElement,e.javascriptEnabled),l=b.createElement("iframe");l.className="html2canvas-container";l.style.visibility="hidden";l.style.position="fixed";l.style.left="-10000px";l.style.top="0px";l.style.border="0";l.width=c;l.height=d;l.scrolling="no";b.body.appendChild(l);return new Promise(function(b){var c=l.contentWindow.document;l.contentWindow.onload=l.onload=function(){var a=setInterval(function(){c.body.childNodes.length>0&&(j(c.documentElement),clearInterval(a),e.type==="view"&&(l.contentWindow.scrollTo(f,h),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.contentWindow.scrollY!==h||l.contentWindow.scrollX!==f)&&(c.documentElement.style.top=-h+"px",c.documentElement.style.left=-f+"px",c.documentElement.style.position="absolute")),b(l))},50)};c.open();c.write("<!DOCTYPE html><html></html>");g(a,f,h);c.replaceChild(c.adoptNode(k),c.documentElement);c.close()})}},{"./log":13}],3:[function(c,a,b){__p&&__p();function d(a){this.r=0,this.g=0,this.b=0,this.a=null,this.fromArray(a)||this.namedColor(a)||this.rgb(a)||this.rgba(a)||this.hex6(a)||this.hex3(a)}d.prototype.darken=function(a){a=1-a;return new d([Math.round(this.r*a),Math.round(this.g*a),Math.round(this.b*a),this.a])};d.prototype.isTransparent=function(){return this.a===0};d.prototype.isBlack=function(){return this.r===0&&this.g===0&&this.b===0};d.prototype.fromArray=function(a){Array.isArray(a)&&(this.r=Math.min(a[0],255),this.g=Math.min(a[1],255),this.b=Math.min(a[2],255),a.length>3&&(this.a=a[3]));return Array.isArray(a)};var g=/^#([a-f0-9]{3})$/i;d.prototype.hex3=function(a){var b=null;(b=a.match(g))!==null&&(this.r=parseInt(b[1][0]+b[1][0],16),this.g=parseInt(b[1][1]+b[1][1],16),this.b=parseInt(b[1][2]+b[1][2],16));return b!==null};var h=/^#([a-f0-9]{6})$/i;d.prototype.hex6=function(a){var b=null;(b=a.match(h))!==null&&(this.r=parseInt(b[1].substring(0,2),16),this.g=parseInt(b[1].substring(2,4),16),this.b=parseInt(b[1].substring(4,6),16));return b!==null};var i=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;d.prototype.rgb=function(a){var b=null;(b=a.match(i))!==null&&(this.r=Number(b[1]),this.g=Number(b[2]),this.b=Number(b[3]));return b!==null};var j=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;d.prototype.rgba=function(a){var b=null;(b=a.match(j))!==null&&(this.r=Number(b[1]),this.g=Number(b[2]),this.b=Number(b[3]),this.a=Number(b[4]));return b!==null};d.prototype.toString=function(){return this.a!==null&&this.a!==1?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"};d.prototype.namedColor=function(a){a=a.toLowerCase();var b=k[a];if(b)this.r=b[0],this.g=b[1],this.b=b[2];else if(a==="transparent"){this.r=this.g=this.b=this.a=0;return!0}return!!b};d.prototype.isColor=!0;var k={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};a.exports=d},{}],4:[function(d,a,b){__p&&__p();var g=d("./support"),h=d("./renderers/canvas"),i=d("./imageloader"),j=d("./nodeparser"),k=d("./nodecontainer"),l=d("./log"),m=d("./utils"),n=d("./clone"),o=d("./proxy").loadUrlDocument,p=m.getBounds,q="data-html2canvas-node",r=0;function b(a,b){__p&&__p();var c=r++;b=b||{};b.logging&&(l.options.logging=!0,l.options.start=Date.now());b.async=typeof b.async==="undefined"?!0:b.async;b.allowTaint=typeof b.allowTaint==="undefined"?!1:b.allowTaint;b.removeContainer=typeof b.removeContainer==="undefined"?!0:b.removeContainer;b.javascriptEnabled=typeof b.javascriptEnabled==="undefined"?!1:b.javascriptEnabled;b.imageTimeout=typeof b.imageTimeout==="undefined"?1e4:b.imageTimeout;b.renderer=typeof b.renderer==="function"?b.renderer:h;b.strict=!!b.strict;if(typeof a==="string"){if(typeof b.proxy!=="string")return Promise.reject("Proxy must be used when rendering url");var d=b.width!=null?b.width:window.innerWidth,e=b.height!=null?b.height:window.innerHeight;return o(z(a),b.proxy,document,d,e,b).then(function(a){return u(a.contentWindow.document.documentElement,a,b,d,e)})}a=(a===undefined?[document.documentElement]:a.length?a:[a])[0];a.setAttribute(q+c,c);return t(a.ownerDocument,b,a.ownerDocument.defaultView.innerWidth,a.ownerDocument.defaultView.innerHeight,c).then(function(a){typeof b.onrendered==="function"&&(l("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),b.onrendered(a));return a})}b.CanvasRenderer=h;b.NodeContainer=k;b.log=l;b.utils=m;var s=typeof document==="undefined"||typeof Object.create!=="function"||typeof document.createElement("canvas").getContext!=="function"?function(){return Promise.reject("No canvas support")}:b;a.exports=s;typeof c==="function"&&c.amd&&c("html2canvas",[],function(){return s});function t(a,b,c,d,e){return n(a,a,c,d,b,a.defaultView.pageXOffset,a.defaultView.pageYOffset).then(function(f){l("Document cloned");var g=q+e,h="["+g+"='"+e+"']";a.querySelector(h).removeAttribute(g);g=f.contentWindow;var i=g.document.querySelector(h);h=typeof b.onclone==="function"?Promise.resolve(b.onclone(g.document)):Promise.resolve(!0);return h.then(function(){return u(i,f,b,c,d)})})}function u(a,b,c,d,e){__p&&__p();var f=b.contentWindow,h=new g(f.document),k=new i(c,h),m=p(a);d=c.type==="view"?d:x(f.document);e=c.type==="view"?e:y(f.document);var n=new c.renderer(d,e,k,c,document);d=new j(a,n,h,k,c);return d.ready.then(function(){l("Finished rendering");var d;c.type==="view"?d=w(n.canvas,{width:n.canvas.width,height:n.canvas.height,top:0,left:0,x:0,y:0}):a===f.document.body||a===f.document.documentElement||c.canvas!=null?d=n.canvas:d=w(n.canvas,{width:c.width!=null?c.width:m.width,height:c.height!=null?c.height:m.height,top:m.top,left:m.left,x:0,y:0});v(b,c);return d})}function v(a,b){b.removeContainer&&(a.parentNode.removeChild(a),l("Cleaned up container"))}function w(a,b){var c=document.createElement("canvas"),d=Math.min(a.width-1,Math.max(0,b.left)),e=Math.min(a.width,Math.max(1,b.left+b.width)),f=Math.min(a.height-1,Math.max(0,b.top)),g=Math.min(a.height,Math.max(1,b.top+b.height));c.width=b.width;c.height=b.height;e=e-d;g=g-f;l("Cropping canvas at:","left:",b.left,"top:",b.top,"width:",e,"height:",g);l("Resulting crop with width",b.width,"and height",b.height,"with x",d,"and y",f);c.getContext("2d").drawImage(a,d,f,e,g,b.x,b.y,e,g);return c}function x(a){return Math.max(Math.max(a.body.scrollWidth,a.documentElement.scrollWidth),Math.max(a.body.offsetWidth,a.documentElement.offsetWidth),Math.max(a.body.clientWidth,a.documentElement.clientWidth))}function y(a){return Math.max(Math.max(a.body.scrollHeight,a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))}function z(a){var b=document.createElement("a");b.href=a;b.href=b.href;return b}},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(c,a,b){__p&&__p();var d=c("./log"),g=c("./utils").smallImage;function h(a){this.src=a;d("DummyImageContainer for",a);if(!this.promise||!this.image){d("Initiating DummyImageContainer");h.prototype.image=new Image();var b=this.image;h.prototype.promise=new Promise(function(a,c){b.onload=a,b.onerror=c,b.src=g(),b.complete===!0&&a(b)})}}a.exports=h},{"./log":13,"./utils":26}],6:[function(c,a,b){__p&&__p();var d=c("./utils").smallImage;function b(a,b){__p&&__p();var c=document.createElement("div"),e=document.createElement("img"),f=document.createElement("span"),g="Hidden Text";c.style.visibility="hidden";c.style.fontFamily=a;c.style.fontSize=b;c.style.margin=0;c.style.padding=0;document.body.appendChild(c);e.src=d();e.width=1;e.height=1;e.style.margin=0;e.style.padding=0;e.style.verticalAlign="baseline";f.style.fontFamily=a;f.style.fontSize=b;f.style.margin=0;f.style.padding=0;f.appendChild(document.createTextNode(g));c.appendChild(f);c.appendChild(e);a=e.offsetTop-f.offsetTop+1;c.removeChild(f);c.appendChild(document.createTextNode(g));c.style.lineHeight="normal";e.style.verticalAlign="super";b=e.offsetTop-c.offsetTop+1;document.body.removeChild(c);this.baseline=a;this.lineWidth=1;this.middle=b}a.exports=b},{"./utils":26}],7:[function(c,a,b){var d=c("./font");function b(){this.data={}}b.prototype.getMetrics=function(a,b){this.data[a+"-"+b]===undefined&&(this.data[a+"-"+b]=new d(a,b));return this.data[a+"-"+b]};a.exports=b},{"./font":6}],8:[function(c,a,b){__p&&__p();var d=c("./utils"),g=d.getBounds,h=c("./proxy").loadUrlDocument;function b(a,b,d){this.image=null;this.src=a;var e=this,f=g(a);this.promise=(b?new Promise(function(b){a.contentWindow.document.URL==="about:blank"||a.contentWindow.document.documentElement==null?a.contentWindow.onload=a.onload=function(){b(a)}:b(a)}):this.proxyLoad(d.proxy,f,d)).then(function(a){var b=c("./core");return b(a.contentWindow.document.documentElement,{type:"view",width:a.width,height:a.height,proxy:d.proxy,javascriptEnabled:d.javascriptEnabled,removeContainer:d.removeContainer,allowTaint:d.allowTaint,imageTimeout:d.imageTimeout/2})}).then(function(a){return e.image=a})}b.prototype.proxyLoad=function(a,b,c){var d=this.src;return h(d.src,a,d.ownerDocument,b.width,b.height,c)};a.exports=b},{"./core":4,"./proxy":16,"./utils":26}],9:[function(c,a,b){function c(a){this.src=a.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}c.TYPES={LINEAR:1,RADIAL:2};c.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i;a.exports=c},{}],10:[function(c,a,b){function c(a,b){this.src=a;this.image=new Image();var c=this;this.tainted=null;this.promise=new Promise(function(d,e){c.image.onload=d,c.image.onerror=e,b&&(c.image.crossOrigin="anonymous"),c.image.src=a,c.image.complete===!0&&d(c.image)})}a.exports=c},{}],11:[function(c,a,b){__p&&__p();var d=c("./log"),g=c("./imagecontainer"),h=c("./dummyimagecontainer"),i=c("./proxyimagecontainer"),j=c("./framecontainer"),k=c("./svgcontainer"),l=c("./svgnodecontainer"),m=c("./lineargradientcontainer"),n=c("./webkitgradientcontainer"),o=c("./utils").bind;function b(a,b){this.link=null,this.options=a,this.support=b,this.origin=this.getOrigin(window.location.href)}b.prototype.findImages=function(a){var b=[];a.reduce(function(a,b){switch(b.node.nodeName){case"IMG":return a.concat([{args:[b.node.src],method:"url"}]);case"svg":case"IFRAME":return a.concat([{args:[b.node],method:b.node.nodeName}])}return a},[]).forEach(this.addImage(b,this.loadImage),this);return b};b.prototype.findBackgroundImage=function(a,b){b.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(a,this.loadImage),this);return a};b.prototype.addImage=function(a,b){return function(c){c.args.forEach(function(e){this.imageExists(a,e)||(a.splice(0,0,b.call(this,c)),d("Added image #"+a.length,typeof e==="string"?e.substring(0,100):e))},this)}};b.prototype.hasImageBackground=function(a){return a.method!=="none"};b.prototype.loadImage=function(a){__p&&__p();if(a.method==="url"){var b=a.args[0];if(this.isSVG(b)&&!this.support.svg&&!this.options.allowTaint)return new k(b);else if(b.match(/data:image\/.*;base64,/i))return new g(b.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1);else if(this.isSameOrigin(b)||this.options.allowTaint===!0||this.isSVG(b))return new g(b,!1);else if(this.support.cors&&!this.options.allowTaint&&this.options.useCORS)return new g(b,!0);else if(this.options.proxy)return new i(b,this.options.proxy);else return new h(b)}else if(a.method==="linear-gradient")return new m(a);else if(a.method==="gradient")return new n(a);else if(a.method==="svg")return new l(a.args[0],this.support.svg);else if(a.method==="IFRAME")return new j(a.args[0],this.isSameOrigin(a.args[0].src),this.options);else return new h(a)};b.prototype.isSVG=function(a){return a.substring(a.length-3).toLowerCase()==="svg"||k.prototype.isInline(a)};b.prototype.imageExists=function(a,b){return a.some(function(a){return a.src===b})};b.prototype.isSameOrigin=function(a){return this.getOrigin(a)===this.origin};b.prototype.getOrigin=function(a){var b=this.link||(this.link=document.createElement("a"));b.href=a;b.href=b.href;return b.protocol+b.hostname+b.port};b.prototype.getPromise=function(a){return this.timeout(a,this.options.imageTimeout)["catch"](function(){var b=new h(a.src);return b.promise.then(function(b){a.image=b})})};b.prototype.get=function(a){var b=null;return this.images.some(function(c){return(b=c).src===a})?b:null};b.prototype.fetch=function(a){this.images=a.reduce(o(this.findBackgroundImage,this),this.findImages(a));this.images.forEach(function(a,b){a.promise.then(function(){d("Succesfully loaded image #"+(b+1),a)},function(c){d("Failed loading image #"+(b+1),a,c)})});this.ready=Promise.all(this.images.map(this.getPromise,this));d("Finished searching images");return this};b.prototype.timeout=function(a,b){var c,e=Promise.race([a.promise,new Promise(function(e,f){c=setTimeout(function(){d("Timed out loading image",a),f(a)},b)})]).then(function(a){clearTimeout(c);return a});e["catch"](function(){clearTimeout(c)});return e};a.exports=b},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(c,a,b){__p&&__p();var d=c("./gradientcontainer"),g=c("./color");function h(a){__p&&__p();d.apply(this,arguments);this.type=d.TYPES.LINEAR;var b=h.REGEXP_DIRECTION.test(a.args[0])||!d.REGEXP_COLORSTOP.test(a.args[0]);b?a.args[0].split(/\s+/).reverse().forEach(function(a,b){__p&&__p();switch(a){case"left":this.x0=0;this.x1=1;break;case"top":this.y0=0;this.y1=1;break;case"right":this.x0=1;this.x1=0;break;case"bottom":this.y0=1;this.y1=0;break;case"to":var c=this.y0,d=this.x0;this.y0=this.y1;this.x0=this.x1;this.x1=d;this.y1=c;break;case"center":break;default:d=parseFloat(a,10)*.01;if(isNaN(d))break;b===0?(this.y0=d,this.y1=1-this.y0):(this.x0=d,this.x1=1-this.x0);break}},this):(this.y0=0,this.y1=1);this.colorStops=a.args.slice(b?1:0).map(function(a){a=a.match(d.REGEXP_COLORSTOP);var b=+a[2],c=b===0?"%":a[3];return{color:new g(a[1]),stop:c==="%"?b/100:null}});this.colorStops[0].stop===null&&(this.colorStops[0].stop=0);this.colorStops[this.colorStops.length-1].stop===null&&(this.colorStops[this.colorStops.length-1].stop=1);this.colorStops.forEach(function(a,b){a.stop===null&&this.colorStops.slice(b).some(function(c,d){if(c.stop!==null){a.stop=(c.stop-this.colorStops[b-1].stop)/(d+1)+this.colorStops[b-1].stop;return!0}else return!1},this)},this)}h.prototype=Object.create(d.prototype);h.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i;a.exports=h},{"./color":3,"./gradientcontainer":9}],13:[function(c,a,b){var d=function(){d.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-d.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};d.options={logging:!1};a.exports=d},{}],14:[function(c,a,b){__p&&__p();var d=c("./color");c=c("./utils");var g=c.getBounds,h=c.parseBackgrounds,i=c.offsetBounds;function b(a,b){this.node=a,this.parent=b,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}b.prototype.cloneTo=function(a){a.visible=this.visible,a.borders=this.borders,a.bounds=this.bounds,a.clip=this.clip,a.backgroundClip=this.backgroundClip,a.computedStyles=this.computedStyles,a.styles=this.styles,a.backgroundImages=this.backgroundImages,a.opacity=this.opacity};b.prototype.getOpacity=function(){return this.opacity===null?this.opacity=this.cssFloat("opacity"):this.opacity};b.prototype.assignStack=function(a){this.stack=a,a.children.push(this)};b.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:this.css("display")!=="none"&&this.css("visibility")!=="hidden"&&!this.node.hasAttribute("data-html2canvas-ignore")&&(this.node.nodeName!=="INPUT"||this.node.getAttribute("type")!=="hidden")};b.prototype.css=function(a){this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null));return this.styles[a]||(this.styles[a]=this.computedStyles[a])};b.prototype.prefixedCss=function(a){var b=["webkit","moz","ms","o"],c=this.css(a);c===undefined&&b.some(function(b){c=this.css(b+a.substr(0,1).toUpperCase()+a.substr(1));return c!==undefined},this);return c===undefined?null:c};b.prototype.computedStyle=function(a){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,a)};b.prototype.cssInt=function(a){a=parseInt(this.css(a),10);return isNaN(a)?0:a};b.prototype.color=function(a){return this.colors[a]||(this.colors[a]=new d(this.css(a)))};b.prototype.cssFloat=function(a){a=parseFloat(this.css(a));return isNaN(a)?0:a};b.prototype.fontWeight=function(){var a=this.css("fontWeight");switch(parseInt(a,10)){case 401:a="bold";break;case 400:a="normal";break}return a};b.prototype.parseClip=function(){var a=this.css("clip").match(this.CLIP);return a?{top:parseInt(a[1],10),right:parseInt(a[2],10),bottom:parseInt(a[3],10),left:parseInt(a[4],10)}:null};b.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=h(this.css("backgroundImage")))};b.prototype.cssList=function(a,b){a=(this.css(a)||"").split(",");a=a[b||0]||a[0]||"auto";a=a.trim().split(" ");a.length===1&&(a=[a[0],l(a[0])?"auto":a[0]]);return a};b.prototype.parseBackgroundSize=function(a,b,c){__p&&__p();c=this.cssList("backgroundSize",c);var d;if(l(c[0]))d=a.width*parseFloat(c[0])/100;else if(/contain|cover/.test(c[0])){var e=a.width/a.height,f=b.width/b.height;return e<f^c[0]==="contain"?{width:a.height*f,height:a.height}:{width:a.width,height:a.width/f}}else d=parseInt(c[0],10);c[0]==="auto"&&c[1]==="auto"?e=b.height:c[1]==="auto"?e=d/b.width*b.height:l(c[1])?e=a.height*parseFloat(c[1])/100:e=parseInt(c[1],10);c[0]==="auto"&&(d=e/b.height*b.width);return{width:d,height:e}};b.prototype.parseBackgroundPosition=function(a,b,c,d){c=this.cssList("backgroundPosition",c);var e,f;l(c[0])?e=(a.width-(d||b).width)*(parseFloat(c[0])/100):e=parseInt(c[0],10);c[1]==="auto"?f=e/b.width*b.height:l(c[1])?f=(a.height-(d||b).height)*parseFloat(c[1])/100:f=parseInt(c[1],10);c[0]==="auto"&&(e=f/b.height*b.width);return{left:e,top:f}};b.prototype.parseBackgroundRepeat=function(a){return this.cssList("backgroundRepeat",a)[0]};b.prototype.parseTextShadows=function(){var a=this.css("textShadow"),b=[];if(a&&a!=="none"){a=a.match(this.TEXT_SHADOW_PROPERTY);for(var c=0;a&&c<a.length;c++){var e=a[c].match(this.TEXT_SHADOW_VALUES);b.push({color:new d(e[0]),offsetX:e[1]?parseFloat(e[1].replace("px","")):0,offsetY:e[2]?parseFloat(e[2].replace("px","")):0,blur:e[3]?e[3].replace("px",""):0})}}return b};b.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var a=this.parseBounds(),b=this.prefixedCss("transformOrigin").split(" ").map(m).map(n);b[0]+=a.left;b[1]+=a.top;this.transformData={origin:b,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData};b.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var a=this.prefixedCss("transform");a=a?k(a.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=a?a:[1,0,0,1,0,0]}return this.transformMatrix};b.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?i(this.node):g(this.node))};b.prototype.hasTransform=function(){return this.parseTransformMatrix().join(",")!=="1,0,0,1,0,0"||this.parent&&this.parent.hasTransform()};b.prototype.getValue=function(){var a=this.node.value||"";this.node.tagName==="SELECT"?a=j(this.node):this.node.type==="password"&&(a=Array(a.length+1).join("\u2022"));return a.length===0?this.node.placeholder||"":a};b.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/;b.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g;b.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;b.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/;function j(a){a=a.options[a.selectedIndex||0];return a?a.text||"":""}function k(a){if(a&&a[1]==="matrix")return a[2].split(",").map(function(a){return parseFloat(a.trim())});else if(a&&a[1]==="matrix3d"){a=a[2].split(",").map(function(a){return parseFloat(a.trim())});return[a[0],a[1],a[4],a[5],a[12],a[13]]}}function l(a){return a.toString().indexOf("%")!==-1}function m(a){return a.replace("px","")}function n(a){return parseFloat(a)}a.exports=b},{"./color":3,"./utils":26}],15:[function(c,a,b){__p&&__p();var d=c("./log"),g=c("punycode"),h=c("./nodecontainer"),i=c("./textcontainer"),j=c("./pseudoelementcontainer"),k=c("./fontmetrics"),l=c("./color"),m=c("./stackingcontext");c=c("./utils");var n=c.bind,o=c.getBounds,p=c.parseBackgrounds,q=c.offsetBounds;function b(a,b,c,e,f){__p&&__p();d("Starting NodeParser");this.renderer=b;this.options=f;this.range=null;this.support=c;this.renderQueue=[];this.stack=new m(!0,1,a.ownerDocument,null);c=new h(a,null);f.background&&b.rectangle(0,0,b.width,b.height,new l(f.background));if(a===a.ownerDocument.documentElement){var g=new h(c.color("backgroundColor").isTransparent()?a.ownerDocument.body:a.ownerDocument.documentElement,null);b.rectangle(0,0,b.width,b.height,g.color("backgroundColor"))}c.visibile=c.isElementVisible();this.createPseudoHideStyles(a.ownerDocument);this.disableAnimations(a.ownerDocument);this.nodes=X([c].concat(this.getChildren(c)).filter(function(a){return a.visible=a.isElementVisible()}).map(this.getPseudoElements,this));this.fontMetrics=new k();d("Fetched nodes, total:",this.nodes.length);d("Calculate overflow clips");this.calculateOverflowClips();d("Start fetching images");this.images=e.fetch(this.nodes.filter(P));this.ready=this.images.ready.then(n(function(){d("Images loaded, starting parsing");d("Creating stacking contexts");this.createStackingContexts();d("Sorting stacking contexts");this.sortStackingContexts(this.stack);this.parse(this.stack);d("Render queue created with "+this.renderQueue.length+" items");return new Promise(n(function(a){!f.async?(this.renderQueue.forEach(this.paint,this),a()):typeof f.async==="function"?f.async.call(this,this.renderQueue,a):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,a)):a()},this))},this))}b.prototype.calculateOverflowClips=function(){__p&&__p();this.nodes.forEach(function(a){__p&&__p();if(P(a)){Q(a)&&a.appendToDOM();a.borders=this.parseBorders(a);var b=a.css("overflow")==="hidden"?[a.borders.clip]:[],c=a.parseClip();c&&["absolute","fixed"].indexOf(a.css("position"))!==-1&&b.push([["rect",a.bounds.left+c.left,a.bounds.top+c.top,c.right-c.left,c.bottom-c.top]]);a.clip=r(a)?a.parent.clip.concat(b):b;a.backgroundClip=a.css("overflow")!=="hidden"?a.clip.concat([a.borders.clip]):a.clip;Q(a)&&a.cleanDOM()}else R(a)&&(a.clip=r(a)?a.parent.clip:[]);Q(a)||(a.bounds=null)},this)};function r(a){return a.parent&&a.parent.clip.length}b.prototype.asyncRenderer=function(a,b,c){c=c||Date.now(),this.paint(a[this.renderIndex++]),a.length===this.renderIndex?b():c+20>Date.now()?this.asyncRenderer(a,b,c):setTimeout(n(function(){this.asyncRenderer(a,b)},this),0)};b.prototype.createPseudoHideStyles=function(a){this.createStyles(a,"."+j.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+j.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')};b.prototype.disableAnimations=function(a){this.createStyles(a,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")};b.prototype.createStyles=function(a,b){var c=a.createElement("style");c.innerHTML=b;a.body.appendChild(c)};b.prototype.getPseudoElements=function(a){var b=[[a]];if(a.node.nodeType===Node.ELEMENT_NODE){var c=this.getPseudoElement(a,":before");a=this.getPseudoElement(a,":after");c&&b.push(c);a&&b.push(a)}return X(b)};function s(a){return a.replace(/(\-[a-z])/g,function(a){return a.toUpperCase().replace("-","")})}b.prototype.getPseudoElement=function(a,b){__p&&__p();var c=a.computedStyle(b);if(!c||!c.content||c.content==="none"||c.content==="-moz-alt-content"||c.display==="none")return null;var d=Y(c.content),e=d.substr(0,3)==="url",f=document.createElement(e?"img":"html2canvaspseudoelement");a=new j(f,a,b);for(var b=c.length-1;b>=0;b--){var g=s(c.item(b));f.style[g]=c[g]}f.className=j.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+j.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;if(e){f.src=p(d)[0].args[0];return[a]}else{g=document.createTextNode(d);f.appendChild(g);return[a,new i(g,a)]}};b.prototype.getChildren=function(a){return X([].filter.call(a.node.childNodes,J).map(function(b){var c=[b.nodeType===Node.TEXT_NODE?new i(b,a):new h(b,a)].filter(W);return b.nodeType===Node.ELEMENT_NODE&&c.length&&b.tagName!=="TEXTAREA"?c[0].isElementVisible()?c.concat(this.getChildren(c[0])):[]:c},this))};b.prototype.newStackingContext=function(a,b){var c=new m(b,a.getOpacity(),a.node,a.parent);a.cloneTo(c);b=b?c.getParentStack(this):c.parent.stack;b.contexts.push(c);a.stack=c};b.prototype.createStackingContexts=function(){this.nodes.forEach(function(a){P(a)&&(this.isRootElement(a)||T(a)||K(a)||this.isBodyWithTransparentRoot(a)||a.hasTransform())?this.newStackingContext(a,!0):P(a)&&(L(a)&&D(a)||N(a)||M(a))?this.newStackingContext(a,!1):a.assignStack(a.parent.stack)},this)};b.prototype.isBodyWithTransparentRoot=function(a){return a.node.nodeName==="BODY"&&a.parent.color("backgroundColor").isTransparent()};b.prototype.isRootElement=function(a){return a.parent===null};b.prototype.sortStackingContexts=function(a){a.contexts.sort(S(a.contexts.slice(0))),a.contexts.forEach(this.sortStackingContexts,this)};b.prototype.parseTextBounds=function(a){__p&&__p();return function(b,c,d){__p&&__p();if(a.parent.css("textDecoration").substr(0,4)!=="none"||b.trim().length!==0){if(this.support.rangeBounds&&!a.parent.hasTransform()){d=d.slice(0,c).join("").length;return this.getRangeBounds(a.node,d,b.length)}else if(a.node&&typeof a.node.data==="string"){c=a.node.splitText(b.length);d=this.getWrapperBounds(a.node,a.parent.hasTransform());a.node=c;return d}}else(!this.support.rangeBounds||a.parent.hasTransform())&&(a.node=a.node.splitText(b.length));return{}}};b.prototype.getWrapperBounds=function(a,b){var c=a.ownerDocument.createElement("html2canvaswrapper"),d=a.parentNode,e=a.cloneNode(!0);c.appendChild(a.cloneNode(!0));d.replaceChild(c,a);a=b?q(c):o(c);d.replaceChild(e,c);return a};b.prototype.getRangeBounds=function(a,b,c){var d=this.range||(this.range=a.ownerDocument.createRange());d.setStart(a,b);d.setEnd(a,b+c);return d.getBoundingClientRect()};function t(){}b.prototype.parse=function(a){var b=a.contexts.filter(B),c=a.children.filter(P),d=c.filter(O(M)),e=d.filter(O(L)).filter(O(E));c=c.filter(O(L)).filter(M);var f=d.filter(O(L)).filter(E);d=a.contexts.concat(d.filter(L)).filter(D);var g=a.children.filter(R).filter(G);a=a.contexts.filter(C);b.concat(e).concat(c).concat(f).concat(d).concat(g).concat(a).forEach(function(a){this.renderQueue.push(a),F(a)&&(this.parse(a),this.renderQueue.push(new t()))},this)};b.prototype.paint=function(a){try{a instanceof t?this.renderer.ctx.restore():R(a)?(Q(a.parent)&&a.parent.appendToDOM(),this.paintText(a),Q(a.parent)&&a.parent.cleanDOM()):this.paintNode(a)}catch(a){d(a);if(this.options.strict)throw a}};b.prototype.paintNode=function(a){F(a)&&(this.renderer.setOpacity(a.opacity),this.renderer.ctx.save(),a.hasTransform()&&this.renderer.setTransform(a.parseTransform())),a.node.nodeName==="INPUT"&&a.node.type==="checkbox"?this.paintCheckbox(a):a.node.nodeName==="INPUT"&&a.node.type==="radio"?this.paintRadio(a):this.paintElement(a)};b.prototype.paintElement=function(a){__p&&__p();var b=a.parseBounds();this.renderer.clip(a.backgroundClip,function(){this.renderer.renderBackground(a,b,a.borders.borders.map(V))},this);this.renderer.clip(a.clip,function(){this.renderer.renderBorders(a.borders.borders)},this);this.renderer.clip(a.backgroundClip,function(){__p&&__p();switch(a.node.nodeName){case"svg":case"IFRAME":var c=this.images.get(a.node);c?this.renderer.renderImage(a,b,a.borders,c):d("Error loading <"+a.node.nodeName+">",a.node);break;case"IMG":c=this.images.get(a.node.src);c?this.renderer.renderImage(a,b,a.borders,c):d("Error loading <img>",a.node.src);break;case"CANVAS":this.renderer.renderImage(a,b,a.borders,{image:a.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(a);break}},this)};b.prototype.paintCheckbox=function(a){var b=a.parseBounds(),c=Math.min(b.width,b.height),d={width:c-1,height:c-1,top:b.top,left:b.left};b=[3,3];var e=[b,b,b,b],f=[1,1,1,1].map(function(a){return{color:new l("#A5A5A5"),width:a}}),g=x(d,e,f);this.renderer.clip(a.backgroundClip,function(){this.renderer.rectangle(d.left+1,d.top+1,d.width-2,d.height-2,new l("#DEDEDE")),this.renderer.renderBorders(v(f,d,g,e)),a.node.checked&&(this.renderer.font(new l("#424242"),"normal","normal","bold",c-3+"px","arial"),this.renderer.text("\u2714",d.left+c/6,d.top+c-1))},this)};b.prototype.paintRadio=function(a){var b=a.parseBounds(),c=Math.min(b.width,b.height)-2;this.renderer.clip(a.backgroundClip,function(){this.renderer.circleStroke(b.left+1,b.top+1,c,new l("#DEDEDE"),1,new l("#A5A5A5")),a.node.checked&&this.renderer.circle(Math.ceil(b.left+c/4)+1,Math.ceil(b.top+c/4)+1,Math.floor(c/2),new l("#424242"))},this)};b.prototype.paintFormValue=function(a){__p&&__p();var b=a.getValue();if(b.length>0){var c=a.node.ownerDocument,e=c.createElement("html2canvaswrapper"),f=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];f.forEach(function(b){try{e.style[b]=a.css(b)}catch(a){d("html2canvas: Parse: Exception caught in renderFormValue: "+a.message)}});f=a.parseBounds();e.style.position="fixed";e.style.left=f.left+"px";e.style.top=f.top+"px";e.textContent=b;c.body.appendChild(e);this.paintText(new i(e.firstChild,a));c.body.removeChild(e)}};b.prototype.paintText=function(a){__p&&__p();a.applyTextTransform();var b=g.ucs2.decode(a.node.data),c=(!this.options.letterRendering||H(a))&&!aa(a.node.data)?Z(b):b.map(function(a){return g.ucs2.encode([a])});b=a.parent.fontWeight();var d=a.parent.css("fontSize"),e=a.parent.css("fontFamily"),f=a.parent.parseTextShadows();this.renderer.font(a.parent.color("color"),a.parent.css("fontStyle"),a.parent.css("fontVariant"),b,d,e);f.length?this.renderer.fontShadow(f[0].color,f[0].offsetX,f[0].offsetY,f[0].blur):this.renderer.clearShadow();this.renderer.clip(a.parent.clip,function(){c.map(this.parseTextBounds(a),this).forEach(function(b,f){b&&(this.renderer.text(c[f],b.left,b.bottom),this.renderTextDecoration(a.parent,b,this.fontMetrics.getMetrics(e,d)))},this)},this)};b.prototype.renderTextDecoration=function(a,b,c){switch(a.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(b.left,Math.round(b.top+c.baseline+c.lineWidth),b.width,1,a.color("color"));break;case"overline":this.renderer.rectangle(b.left,Math.round(b.top),b.width,1,a.color("color"));break;case"line-through":this.renderer.rectangle(b.left,Math.ceil(b.top+c.middle+c.lineWidth),b.width,1,a.color("color"));break}};var u={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};b.prototype.parseBorders=function(a){var b=a.parseBounds(),c=I(a),d=["Top","Right","Bottom","Left"].map(function(b,c){var d=a.css("border"+b+"Style"),e=a.color("border"+b+"Color");d==="inset"&&e.isBlack()&&(e=new l([255,255,255,e.a]));d=u[d]?u[d][c]:null;return{width:a.cssInt("border"+b+"Width"),color:d?e[d[0]](d[1]):e,args:null}}),e=x(b,c,d);return{clip:this.parseBackgroundClip(a,e,d,c,b),borders:v(d,b,e,c)}};function v(a,b,c,d){__p&&__p();return a.map(function(e,f){__p&&__p();if(e.width>0){var g=b.left,h=b.top,i=b.width,j=b.height-a[2].width;switch(f){case 0:j=a[0].width;e.args=z({c1:[g,h],c2:[g+i,h],c3:[g+i-a[1].width,h+j],c4:[g+a[3].width,h+j]},d[0],d[1],c.topLeftOuter,c.topLeftInner,c.topRightOuter,c.topRightInner);break;case 1:g=b.left+b.width-a[1].width;i=a[1].width;e.args=z({c1:[g+i,h],c2:[g+i,h+j+a[2].width],c3:[g,h+j],c4:[g,h+a[0].width]},d[1],d[2],c.topRightOuter,c.topRightInner,c.bottomRightOuter,c.bottomRightInner);break;case 2:h=h+b.height-a[2].width;j=a[2].width;e.args=z({c1:[g+i,h+j],c2:[g,h+j],c3:[g+a[3].width,h],c4:[g+i-a[3].width,h]},d[2],d[3],c.bottomRightOuter,c.bottomRightInner,c.bottomLeftOuter,c.bottomLeftInner);break;case 3:i=a[3].width;e.args=z({c1:[g,h+j+a[2].width],c2:[g,h],c3:[g+i,h+a[0].width],c4:[g+i,h+j]},d[3],d[0],c.bottomLeftOuter,c.bottomLeftInner,c.topLeftOuter,c.topLeftInner);break}}return e})}b.prototype.parseBackgroundClip=function(a,b,c,d,e){__p&&__p();a=a.css("backgroundClip");var f=[];switch(a){case"content-box":case"padding-box":A(f,d[0],d[1],b.topLeftInner,b.topRightInner,e.left+c[3].width,e.top+c[0].width);A(f,d[1],d[2],b.topRightInner,b.bottomRightInner,e.left+e.width-c[1].width,e.top+c[0].width);A(f,d[2],d[3],b.bottomRightInner,b.bottomLeftInner,e.left+e.width-c[1].width,e.top+e.height-c[2].width);A(f,d[3],d[0],b.bottomLeftInner,b.topLeftInner,e.left+c[3].width,e.top+e.height-c[2].width);break;default:A(f,d[0],d[1],b.topLeftOuter,b.topRightOuter,e.left,e.top);A(f,d[1],d[2],b.topRightOuter,b.bottomRightOuter,e.left+e.width,e.top);A(f,d[2],d[3],b.bottomRightOuter,b.bottomLeftOuter,e.left+e.width,e.top+e.height);A(f,d[3],d[0],b.bottomLeftOuter,b.topLeftOuter,e.left,e.top+e.height);break}return f};function w(a,b,c,d){var e=4*((Math.sqrt(2)-1)/3),f=c*e;e=d*e;c=a+c;d=b+d;return{topLeft:y({x:a,y:d},{x:a,y:d-e},{x:c-f,y:b},{x:c,y:b}),topRight:y({x:a,y:b},{x:a+f,y:b},{x:c,y:d-e},{x:c,y:d}),bottomRight:y({x:c,y:b},{x:c,y:b+e},{x:a+f,y:d},{x:a,y:d}),bottomLeft:y({x:c,y:d},{x:c-f,y:d},{x:a,y:b+e},{x:a,y:b})}}function x(a,b,c){var d=a.left,e=a.top,f=a.width;a=a.height;var g=b[0][0]<f/2?b[0][0]:f/2,h=b[0][1]<a/2?b[0][1]:a/2,i=b[1][0]<f/2?b[1][0]:f/2,j=b[1][1]<a/2?b[1][1]:a/2,k=b[2][0]<f/2?b[2][0]:f/2,l=b[2][1]<a/2?b[2][1]:a/2,m=b[3][0]<f/2?b[3][0]:f/2;b=b[3][1]<a/2?b[3][1]:a/2;var n=f-i,o=a-l,p=f-k,q=a-b;return{topLeftOuter:w(d,e,g,h).topLeft.subdivide(.5),topLeftInner:w(d+c[3].width,e+c[0].width,Math.max(0,g-c[3].width),Math.max(0,h-c[0].width)).topLeft.subdivide(.5),topRightOuter:w(d+n,e,i,j).topRight.subdivide(.5),topRightInner:w(d+Math.min(n,f+c[3].width),e+c[0].width,n>f+c[3].width?0:i-c[3].width,j-c[0].width).topRight.subdivide(.5),bottomRightOuter:w(d+p,e+o,k,l).bottomRight.subdivide(.5),bottomRightInner:w(d+Math.min(p,f-c[3].width),e+Math.min(o,a+c[0].width),Math.max(0,k-c[1].width),l-c[2].width).bottomRight.subdivide(.5),bottomLeftOuter:w(d,e+q,m,b).bottomLeft.subdivide(.5),bottomLeftInner:w(d+c[3].width,e+q,Math.max(0,m-c[3].width),b-c[2].width).bottomLeft.subdivide(.5)}}function y(a,b,c,d){var e=function(a,b,c){return{x:a.x+(b.x-a.x)*c,y:a.y+(b.y-a.y)*c}};return{start:a,startControl:b,endControl:c,end:d,subdivide:function(f){var g=e(a,b,f),h=e(b,c,f),i=e(c,d,f),j=e(g,h,f);h=e(h,i,f);f=e(j,h,f);return[y(a,g,j,f),y(f,h,i,d)]},curveTo:function(a){a.push(["bezierCurve",b.x,b.y,c.x,c.y,d.x,d.y])},curveToReversed:function(d){d.push(["bezierCurve",c.x,c.y,b.x,b.y,a.x,a.y])}}}function z(a,b,c,d,e,f,g){var h=[];b[0]>0||b[1]>0?(h.push(["line",d[1].start.x,d[1].start.y]),d[1].curveTo(h)):h.push(["line",a.c1[0],a.c1[1]]);c[0]>0||c[1]>0?(h.push(["line",f[0].start.x,f[0].start.y]),f[0].curveTo(h),h.push(["line",g[0].end.x,g[0].end.y]),g[0].curveToReversed(h)):(h.push(["line",a.c2[0],a.c2[1]]),h.push(["line",a.c3[0],a.c3[1]]));b[0]>0||b[1]>0?(h.push(["line",e[1].end.x,e[1].end.y]),e[1].curveToReversed(h)):h.push(["line",a.c4[0],a.c4[1]]);return h}function A(a,b,c,d,e,f,g){b[0]>0||b[1]>0?(a.push(["line",d[0].start.x,d[0].start.y]),d[0].curveTo(a),d[1].curveTo(a)):a.push(["line",f,g]),(c[0]>0||c[1]>0)&&a.push(["line",e[0].start.x,e[0].start.y])}function B(a){return a.cssInt("zIndex")<0}function C(a){return a.cssInt("zIndex")>0}function D(a){return a.cssInt("zIndex")===0}function E(a){return["inline","inline-block","inline-table"].indexOf(a.css("display"))!==-1}function F(a){return a instanceof m}function G(a){return a.node.data.trim().length>0}function H(a){return/^(normal|none|0px)$/.test(a.parent.css("letterSpacing"))}function I(a){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(b){b=a.css("border"+b+"Radius");b=b.split(" ");b.length<=1&&(b[1]=b[0]);return b.map(U)})}function J(a){return a.nodeType===Node.TEXT_NODE||a.nodeType===Node.ELEMENT_NODE}function K(a){var b=a.css("position");b=["absolute","relative","fixed"].indexOf(b)!==-1?a.css("zIndex"):"auto";return b!=="auto"}function L(a){return a.css("position")!=="static"}function M(a){return a.css("float")!=="none"}function N(a){return["inline-block","inline-table"].indexOf(a.css("display"))!==-1}function O(a){var b=this;return function(){return!a.apply(b,arguments)}}function P(a){return a.node.nodeType===Node.ELEMENT_NODE}function Q(a){return a.isPseudoElement===!0}function R(a){return a.node.nodeType===Node.TEXT_NODE}function S(a){return function(b,c){return b.cssInt("zIndex")+a.indexOf(b)/a.length-(c.cssInt("zIndex")+a.indexOf(c)/a.length)}}function T(a){return a.getOpacity()<1}function U(a){return parseInt(a,10)}function V(a){return a.width}function W(a){return a.node.nodeType!==Node.ELEMENT_NODE||["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(a.node.nodeName)===-1}function X(a){return[].concat.apply([],a)}function Y(a){var b=a.substr(0,1);return b===a.substr(a.length-1)&&b.match(/'|"/)?a.substr(1,a.length-2):a}function Z(a){var b=[],c=0,d=!1,e;while(a.length)$(a[c])===d?(e=a.splice(0,c),e.length&&b.push(g.ucs2.encode(e)),d=!d,c=0):c++,c>=a.length&&(e=a.splice(0,c),e.length&&b.push(g.ucs2.encode(e)));return b}function $(a){return[32,13,10,9,45].indexOf(a)!==-1}function aa(a){return/[^\u0000-\u00ff]/.test(a)}a.exports=b},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(c,a,b){__p&&__p();var d=c("./xhr"),g=c("./utils"),h=c("./log"),i=c("./clone"),j=g.decode64;function k(a,b,c){var e="withCredentials"in new XMLHttpRequest();if(!b)return Promise.reject("No proxy configured");var f=n(e);b=o(b,a,f);return e?d(b):m(c,b,f).then(function(a){return j(a.content)})}var l=0;function a(a,b,c){var d="crossOrigin"in new Image(),e=n(d);b=o(b,a,e);return d?Promise.resolve(b):m(c,b,e).then(function(a){return"data:"+a.type+";base64,"+a.content})}function m(a,b,c){return new Promise(function(d,e){var f=a.createElement("script"),g=function(){delete window.html2canvas.proxy[c],a.body.removeChild(f)};window.html2canvas.proxy[c]=function(a){g(),d(a)};f.src=b;f.onerror=function(a){g(),e(a)};a.body.appendChild(f)})}function n(a){return a?"":"html2canvas_"+Date.now()+"_"+ ++l+"_"+Math.round(Math.random()*1e5)}function o(a,b,c){return a+"?url="+encodeURIComponent(b)+(c.length?"&callback=html2canvas.proxy."+c:"")}function p(a){__p&&__p();return function(b){__p&&__p();var c=new DOMParser();try{c=c.parseFromString(b,"text/html")}catch(a){h("DOMParser not supported, falling back to createHTMLDocument");c=document.implementation.createHTMLDocument("");try{c.open(),c.write(b),c.close()}catch(a){h("createHTMLDocument write not supported, falling back to document.body.innerHTML"),c.body.innerHTML=b}}b=c.querySelector("base");if(!b||!b.href.host){b=c.createElement("base");b.href=a;c.head.insertBefore(b,c.head.firstChild)}return c}}function q(a,b,c,d,e,f){return new k(a,b,window.document).then(p(a)).then(function(a){return i(a,c,d,e,f,0,0)})}b.Proxy=k;b.ProxyURL=a;b.loadUrlDocument=q},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(c,a,b){__p&&__p();var d=c("./proxy").ProxyURL;function b(a,b){var c=document.createElement("a");c.href=a;a=c.href;this.src=a;this.image=new Image();var e=this;this.promise=new Promise(function(c,f){e.image.crossOrigin="Anonymous",e.image.onload=c,e.image.onerror=f,new d(a,b,document).then(function(a){e.image.src=a})["catch"](f)})}a.exports=b},{"./proxy":16}],18:[function(c,a,b){__p&&__p();var d=c("./nodecontainer");function g(a,b,c){d.call(this,a,b),this.isPseudoElement=!0,this.before=c===":before"}g.prototype.cloneTo=function(a){g.prototype.cloneTo.call(this,a),a.isPseudoElement=!0,a.before=this.before};g.prototype=Object.create(d.prototype);g.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()};g.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")};g.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]};g.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before";g.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after";a.exports=g},{"./nodecontainer":14}],19:[function(c,a,b){__p&&__p();var d=c("./log");function b(a,b,c,d,e){this.width=a,this.height=b,this.images=c,this.options=d,this.document=e}b.prototype.renderImage=function(a,b,c,d){var e=a.cssInt("paddingLeft"),f=a.cssInt("paddingTop"),g=a.cssInt("paddingRight");a=a.cssInt("paddingBottom");c=c.borders;g=b.width-(c[1].width+c[3].width+e+g);a=b.height-(c[0].width+c[2].width+f+a);this.drawImage(d,0,0,d.image.width||g,d.image.height||a,b.left+e+c[3].width,b.top+f+c[0].width,g,a)};b.prototype.renderBackground=function(a,b,c){b.height>0&&b.width>0&&(this.renderBackgroundColor(a,b),this.renderBackgroundImage(a,b,c))};b.prototype.renderBackgroundColor=function(a,b){a=a.color("backgroundColor");a.isTransparent()||this.rectangle(b.left,b.top,b.width,b.height,a)};b.prototype.renderBorders=function(a){a.forEach(this.renderBorder,this)};b.prototype.renderBorder=function(a){!a.color.isTransparent()&&a.args!==null&&this.drawShape(a.args,a.color)};b.prototype.renderBackgroundImage=function(a,b,c){__p&&__p();var e=a.parseBackgroundImages();e.reverse().forEach(function(e,f,g){switch(e.method){case"url":var h=this.images.get(e.args[0]);h?this.renderBackgroundRepeating(a,b,h,g.length-(f+1),c):d("Error loading background-image",e.args[0]);break;case"linear-gradient":case"gradient":h=this.images.get(e.value);h?this.renderBackgroundGradient(h,b,c):d("Error loading background-image",e.args[0]);break;case"none":break;default:d("Unknown background-image type",e.args[0])}},this)};b.prototype.renderBackgroundRepeating=function(a,b,c,d,e){__p&&__p();var f=a.parseBackgroundSize(b,c.image,d),g=a.parseBackgroundPosition(b,c.image,d,f);a=a.parseBackgroundRepeat(d);switch(a){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(c,g,f,b,b.left+e[3],b.top+g.top+e[0],99999,f.height,e);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(c,g,f,b,b.left+g.left+e[3],b.top+e[0],f.width,99999,e);break;case"no-repeat":this.backgroundRepeatShape(c,g,f,b,b.left+g.left+e[3],b.top+g.top+e[0],f.width,f.height,e);break;default:this.renderBackgroundRepeat(c,g,f,{top:b.top,left:b.left},e[3],e[0]);break}};a.exports=b},{"./log":13}],20:[function(c,a,b){__p&&__p();var d=c("../renderer"),g=c("../lineargradientcontainer"),h=c("../log");function b(a,b){d.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=a,this.canvas.height=b),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},h("Initialized CanvasRenderer with size",a,"x",b)}b.prototype=Object.create(d.prototype);b.prototype.setFillStyle=function(a){this.ctx.fillStyle=typeof a==="object"&&!!a.isColor?a.toString():a;return this.ctx};b.prototype.rectangle=function(a,b,c,d,e){this.setFillStyle(e).fillRect(a,b,c,d)};b.prototype.circle=function(a,b,c,d){this.setFillStyle(d),this.ctx.beginPath(),this.ctx.arc(a+c/2,b+c/2,c/2,0,Math.PI*2,!0),this.ctx.closePath(),this.ctx.fill()};b.prototype.circleStroke=function(a,b,c,d,e,f){this.circle(a,b,c,d),this.ctx.strokeStyle=f.toString(),this.ctx.stroke()};b.prototype.drawShape=function(a,b){this.shape(a),this.setFillStyle(b).fill()};b.prototype.taints=function(a){if(a.tainted===null){this.taintCtx.drawImage(a.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),a.tainted=!1}catch(b){this.taintCtx=document.createElement("canvas").getContext("2d"),a.tainted=!0}}return a.tainted};b.prototype.drawImage=function(a,b,c,d,e,f,g,h,i){(!this.taints(a)||this.options.allowTaint)&&this.ctx.drawImage(a.image,b,c,d,e,f,g,h,i)};b.prototype.clip=function(a,b,c){this.ctx.save(),a.filter(i).forEach(function(a){this.shape(a).clip()},this),b.call(c),this.ctx.restore()};b.prototype.shape=function(a){this.ctx.beginPath();a.forEach(function(a,b){a[0]==="rect"?this.ctx.rect.apply(this.ctx,a.slice(1)):this.ctx[b===0?"moveTo":a[0]+"To"].apply(this.ctx,a.slice(1))},this);this.ctx.closePath();return this.ctx};b.prototype.font=function(a,b,c,d,e,f){this.setFillStyle(a).font=[b,c,d,e,f].join(" ").split(",")[0]};b.prototype.fontShadow=function(a,b,c,d){this.setVariable("shadowColor",a.toString()).setVariable("shadowOffsetY",b).setVariable("shadowOffsetX",c).setVariable("shadowBlur",d)};b.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")};b.prototype.setOpacity=function(a){this.ctx.globalAlpha=a};b.prototype.setTransform=function(a){this.ctx.translate(a.origin[0],a.origin[1]),this.ctx.transform.apply(this.ctx,a.matrix),this.ctx.translate(-a.origin[0],-a.origin[1])};b.prototype.setVariable=function(a,b){this.variables[a]!==b&&(this.variables[a]=this.ctx[a]=b);return this};b.prototype.text=function(a,b,c){this.ctx.fillText(a,b,c)};b.prototype.backgroundRepeatShape=function(a,b,c,d,e,f,g,h,i){g=[["line",Math.round(e),Math.round(f)],["line",Math.round(e+g),Math.round(f)],["line",Math.round(e+g),Math.round(h+f)],["line",Math.round(e),Math.round(h+f)]];this.clip([g],function(){this.renderBackgroundRepeat(a,b,c,d,i[3],i[0])},this)};b.prototype.renderBackgroundRepeat=function(a,b,c,d,e,f){e=Math.round(d.left+b.left+e);d=Math.round(d.top+b.top+f);this.setFillStyle(this.ctx.createPattern(this.resizeImage(a,c),"repeat"));this.ctx.translate(e,d);this.ctx.fill();this.ctx.translate(-e,-d)};b.prototype.renderBackgroundGradient=function(a,b){if(a instanceof g){var c=this.ctx.createLinearGradient(b.left+b.width*a.x0,b.top+b.height*a.y0,b.left+b.width*a.x1,b.top+b.height*a.y1);a.colorStops.forEach(function(a){c.addColorStop(a.stop,a.color.toString())});this.rectangle(b.left,b.top,b.width,b.height,c)}};b.prototype.resizeImage=function(a,b){a=a.image;if(a.width===b.width&&a.height===b.height)return a;var c,d=document.createElement("canvas");d.width=b.width;d.height=b.height;c=d.getContext("2d");c.drawImage(a,0,0,a.width,a.height,0,0,b.width,b.height);return d};function i(a){return a.length>0}a.exports=b},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(c,a,b){var d=c("./nodecontainer");function b(a,b,c,e){d.call(this,c,e),this.ownStacking=a,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*b}b.prototype=Object.create(d.prototype);b.prototype.getParentStack=function(a){var b=this.parent?this.parent.stack:null;return b?b.ownStacking?b:b.getParentStack(a):a.stack};a.exports=b},{"./nodecontainer":14}],22:[function(c,a,b){__p&&__p();function c(a){this.rangeBounds=this.testRangeBounds(a),this.cors=this.testCORS(),this.svg=this.testSVG()}c.prototype.testRangeBounds=function(a){var b,c,d=!1;a.createRange&&(b=a.createRange(),b.getBoundingClientRect&&(c=a.createElement("boundtest"),c.style.height="123px",c.style.display="block",a.body.appendChild(c),b.selectNode(c),b=b.getBoundingClientRect(),b=b.height,b===123&&(d=!0),a.body.removeChild(c)));return d};c.prototype.testCORS=function(){return typeof new Image().crossOrigin!=="undefined"};c.prototype.testSVG=function(){var a=new Image(),b=document.createElement("canvas"),c=b.getContext("2d");a.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{c.drawImage(a,0,0),b.toDataURL()}catch(a){return!1}return!0};a.exports=c},{}],23:[function(c,a,b){__p&&__p();var d=c("./xhr"),g=c("./utils").decode64;function b(a){this.src=a;this.image=null;var b=this;this.promise=this.hasFabric().then(function(){return b.isInline(a)?Promise.resolve(b.inlineFormatting(a)):d(a)}).then(function(a){return new Promise(function(c){window.html2canvas.svg.fabric.loadSVGFromString(a,b.createCanvas.call(b,c))})})}b.prototype.hasFabric=function(){return!window.html2canvas.svg||!window.html2canvas.svg.fabric?Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg")):Promise.resolve()};b.prototype.inlineFormatting=function(a){return/^data:image\/svg\+xml;base64,/.test(a)?this.decode64(this.removeContentType(a)):this.removeContentType(a)};b.prototype.removeContentType=function(a){return a.replace(/^data:image\/svg\+xml(;base64)?,/,"")};b.prototype.isInline=function(a){return/^data:image\/svg\+xml/i.test(a)};b.prototype.createCanvas=function(a){var b=this;return function(c,d){var e=new window.html2canvas.svg.fabric.StaticCanvas("c");b.image=e.lowerCanvasEl;e.setWidth(d.width).setHeight(d.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(c,d)).renderAll();a(e.lowerCanvasEl)}};b.prototype.decode64=function(a){return typeof window.atob==="function"?window.atob(a):g(a)};a.exports=b},{"./utils":26,"./xhr":28}],24:[function(c,a,b){__p&&__p();c=c("./svgcontainer");function b(a,b){this.src=a;this.image=null;var c=this;this.promise=b?new Promise(function(b,d){c.image=new Image(),c.image.onload=b,c.image.onerror=d,c.image.src="data:image/svg+xml,"+new XMLSerializer().serializeToString(a),c.image.complete===!0&&b(c.image)}):this.hasFabric().then(function(){return new Promise(function(b){window.html2canvas.svg.fabric.parseSVGDocument(a,c.createCanvas.call(c,b))})})}b.prototype=Object.create(c.prototype);a.exports=b},{"./svgcontainer":23}],25:[function(c,a,b){__p&&__p();var d=c("./nodecontainer");function b(a,b){d.call(this,a,b)}b.prototype=Object.create(d.prototype);b.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))};b.prototype.transform=function(a){var b=this.node.data;switch(a){case"lowercase":return b.toLowerCase();case"capitalize":return b.replace(/(^|\s|:|-|\(|\))([a-z])/g,g);case"uppercase":return b.toUpperCase();default:return b}};function g(a,b,c){if(a.length>0)return b+c.toUpperCase()}a.exports=b},{"./nodecontainer":14}],26:[function(c,a,b){__p&&__p();b.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},b.bind=function(a,b){return function(){return a.apply(b,arguments)}},b.decode64=function(a){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=a.length,d,e,f,g,h,i,j="";for(d=0;d<c;d+=4)e=b.indexOf(a[d]),f=b.indexOf(a[d+1]),g=b.indexOf(a[d+2]),h=b.indexOf(a[d+3]),e=e<<2|f>>4,f=(f&15)<<4|g>>2,i=(g&3)<<6|h,g===64?j+=String.fromCharCode(e):h===64||h===-1?j+=String.fromCharCode(e,f):j+=String.fromCharCode(e,f,i);return j},b.getBounds=function(a){if(a.getBoundingClientRect){var b=a.getBoundingClientRect(),c=a.offsetWidth==null?b.width:a.offsetWidth;return{top:b.top,bottom:b.bottom||b.top+b.height,right:b.left+c,left:b.left,width:c,height:a.offsetHeight==null?b.height:a.offsetHeight}}return{}},b.offsetBounds=function(a){var c=a.offsetParent?b.offsetBounds(a.offsetParent):{top:0,left:0};return{top:a.offsetTop+c.top,bottom:a.offsetTop+a.offsetHeight+c.top,right:a.offsetLeft+c.left+a.offsetWidth,left:a.offsetLeft+c.left,width:a.offsetWidth,height:a.offsetHeight}},b.parseBackgrounds=function(a){__p&&__p();var b=" \r\n\t",c,d,e,f,g,h=[],i=0,j=0,k,l,m=function(){c&&(d.substr(0,1)==='"'&&(d=d.substr(1,d.length-2)),d&&l.push(d),c.substr(0,1)==="-"&&(f=c.indexOf("-",1)+1)>0&&(e=c.substr(0,f),c=c.substr(f)),h.push({prefix:e,method:c.toLowerCase(),value:g,args:l,image:null})),l=[],c=e=d=g=""};l=[];c=e=d=g="";a.split("").forEach(function(a){__p&&__p();if(i===0&&b.indexOf(a)>-1)return;switch(a){case'"':!k?k=a:k===a&&(k=null);break;case"(":if(k)break;else if(i===0){i=1;g+=a;return}else j++;break;case")":if(k)break;else if(i===1)if(j===0){i=0;g+=a;m();return}else j--;break;case",":if(k)break;else if(i===0){m();return}else if(i===1&&(j===0&&!c.match(/^url$/i))){l.push(d);d="";g+=a;return}break}g+=a;i===0?c+=a:d+=a});m();return h}},{}],27:[function(c,a,b){var d=c("./gradientcontainer");function b(a){d.apply(this,arguments),this.type=a.args[0]==="linear"?d.TYPES.LINEAR:d.TYPES.RADIAL}b.prototype=Object.create(d.prototype);a.exports=b},{"./gradientcontainer":9}],28:[function(c,a,b){__p&&__p();function c(a){return new Promise(function(b,c){var d=new XMLHttpRequest();d.open("GET",a);d.onload=function(){d.status===200?b(d.responseText):c(new Error(d.statusText))};d.onerror=function(){c(new Error("Network Error"))};d.send()})}a.exports=c},{}]},{},[4])(4)})}),null);